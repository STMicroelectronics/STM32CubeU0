<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="../../../../_htmresc/mini-st_2020.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="row">
<section id="pwr_lprunmode_sram1-example-description" class="col-sm-12 col-lg-8">
<h2><b>PWR_LPRunMode_SRAM1 Example Description</b></h2>
<p>How to execute code in Low-power run mode from SRAM1.</p>
<p>In the associated software, the system clock is set to 48 MHz, an EXTI line is connected to the User push-button through PC.13 and configured to generate an interrupt on falling edge upon key press.</p>
<ul>
<li>After start-up LED4 is toggling FAST(100-ms blinking period), indicates that device is running at 48 MHz.</li>
</ul>
<p>The User push-button can be pressed to set system in LowPowerRun mode (Freq: 100KHz).</p>
<ul>
<li>In this case LED4 toggling SLOW(400-ms blinking period).</li>
</ul>
<p>LED4 toggling speed is controlled by variable “uhLedBlinkSpeed”.</p>
<p>To measure the current consumption in Standby mode, remove JP5 jumper and connect an ampere meter to JP5 to measure IDD current. NB: LED4 have an impact on power consumption. Remove LED4 blinking to have a stable power consumption, comment line “#define USE_LED” in main.c file</p>
<h4 id="notes"><b>Notes</b></h4>
<ol type="1">
<li><p>This example is executed from SRAM1 to decrease power consumption.</p></li>
<li><p>Flash is deactivated during LowPowerRun mode activation.</p></li>
<li><p>This example cannot be executed in standalone mode, so using debugger is mandatory to run this example.</p></li>
</ol>
<h3 id="keywords"><b>Keywords</b></h3>
<p>Power, PWR, Low Power</p>
<h3 id="directory-contents"><b>Directory contents</b></h3>
<ul>
<li>PWR/PWR_LPRunMode_SRAM1/Inc/stm32u0xx_it.h Interrupt handlers header file</li>
<li>PWR/PWR_LPRunMode_SRAM1/Inc/main.h Header for main.c module</li>
<li>PWR/PWR_LPRunMode_SRAM1/Inc/stm32_assert.h Template file to include assert_failed function</li>
<li>PWR/PWR_LPRunMode_SRAM1/Src/stm32u0xx_it.c Interrupt handlers</li>
<li>PWR/PWR_LPRunMode_SRAM1/Src/main.c Main program</li>
<li>PWR/PWR_LPRunMode_SRAM1/Src/system_stm32u0xx.c STM32U0xx system source file</li>
</ul>
<h3 id="hardware-and-software-environment"><b>Hardware and Software
environment</b></h3>
<ul>
<li><p>This example runs on STM32U083RCTx devices.</p></li>
<li><p>This example has been tested with STMicroelectronics NUCLEO-U083RC board and can be easily tailored to any other supported device and development board.</p></li>
<li><p>NUCLEO-U083RC Set-up</p></li>
<ul>
<li>LED4 connected to PA.05 pin</li>
<li>User push-button connected to pin PC.13 (EXTI_Line13)</li>
</ul></li>
</ul>
<h3 id="how-to-use-it"><b>How to use it ?</b></h3>
<p>In order to make the program work, you must do the following :</p>
<ul>
<li>Open your preferred toolchain</li>
<li>Rebuild all files</li>
<li>In using ST-Link Utility tool, load your image into target memory SRAM1 area at start address 0x20000000, having checked beforehand the “Reset after programming” box. Make sure option bytes are correctly set to select SRAM1 as boot area (refer to Reference Manual if needed)</li>
<li>Run the example</li>
</ul>
</body>
</html>
