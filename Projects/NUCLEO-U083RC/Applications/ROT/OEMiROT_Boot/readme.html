<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="../../../../_htmresc/mini-st_2020.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h2 id="oemirot_boot-application-description"><b>OEMiROT_Boot application Description</b></h2>
<p>This project provides an OEMiROT example. OEMiROT boot path performs authenticity and the integrity checks of the project firmware and data images.</p>
<p>The core function of this application relies on the mcuboot middleware and the mbed-crypto middleware.</p>
<p>This project shows how to implement an OEMiROT.</p>
<p>To ease the development process, a prebuild command and postbuild command are integrated in the project. The prebuild command is in charge of preparing the OEMiROT_Boot scatter file according to flash layout description. The postbuild command is in charge of preparing the provisioning scripts and the application image (firmware application managed by OEMiROT) configuration files in ROT_Provisioning/OEMiROT folder, according to the flash layout and OEMiROT configuration.</p>
<p>The maximum system clock frequency at 48Mhz is configured.</p>
<p>For more details, refer to Wiki article available here : <a href="https://wiki.st.com/stm32mcu/wiki/Category:Security">Link to Security Wiki</a></p>
<h3 id="keywords"><b>Keywords</b></h3>
<p>OEMiROT, boot path, Root Of Trust, Security, mcuboot</p>
<h3 id="directory-contents"><strong>Directory contents</strong></h3>
<ul>
<li>OEMiROT_Boot/Src/bl2_nv_services.c Non Volatile services for OEMiROT_Boot</li>
<li>OEMiROT_Boot/Src/boot_hal.c Platform initialization</li>
<li>OEMiROT_Boot/Src/image_macros_to_preprocess_bl2.c Images definitions for bl2 preprocess</li>
<li>OEMiROT_Boot/Src/keys.c keys arrays</li>
<li>OEMiROT_Boot/Src/keys_map.c keys provisionned in PERSO area</li>
<li>OEMiROT_Boot/Src/low_level_com.c UART low level interface</li>
<li>OEMiROT_Boot/Src/low_level_device.c Flash low level device configuration</li>
<li>OEMiROT_Boot/Src/low_level_flash.c Flash low level interface</li>
<li>OEMiROT_Boot/Src/low_level_rng.c Random generator interface</li>
<li>OEMiROT_Boot/Src/low_level_security.c Security low level services</li>
<li>OEMiROT_Boot/Src/stm32u0xx_hal_msp.c HAL MSP module</li>
<li>OEMiROT_Boot/Src/system_stm32u0xx.c System Init file</li>
<li>OEMiROT_Boot/Src/tick.c HAL Tick implementation</li>
<li>OEMiROT_Boot/Src/startup_stm32u0xx.c Startup file</li>
<li>OEMiROT_Boot/Inc/mcuboot_config/mcuboot_config.h Mcuboot configuration file</li>
<li>OEMiROT_Boot/Inc/boot_hal_cfg.h Platform configuration file for OEMiROT_Boot</li>
<li>OEMiROT_Boot/Inc/boot_hal_flowcontrol.h Header file for flow control code in boot_hal.c</li>
<li>OEMiROT_Boot/Inc/boot_hal_hash_ref.h Header file for hash reference code in boot_hal.c</li>
<li>OEMiROT_Boot/Inc/boot_hal_imagevalid.h Header file for image validation code in boot_hal.c</li>
<li>OEMiROT_Boot/Inc/cmsis.h Header file for CMSIS</li>
<li>OEMiROT_Boot/Inc/mbedtls_config.h Mbed-crypto configuration file</li>
<li>OEMiROT_Boot/Inc/flash_layout.h Flash layout header file</li>
<li>OEMiROT_Boot/Inc/low_level_flash.h Header file for low_level_flash.c</li>
<li>OEMiROT_Boot/Inc/low_level_rng.h Header file for low_level_rng.c</li>
<li>OEMiROT_Boot/Inc/low_level_security.h Header file for low_level_security.c</li>
<li>OEMiROT_Boot/Inc/region_defs.h RAM and FLASH regions definitions</li>
<li>OEMiROT_Boot/Inc/stm32u0xx_hal_conf.h HAL driver configuration file</li>
<li>OEMiROT_Boot/Inc/target_cfg.h Header file for target start up</li>
</ul>
<h3 id="hardware-and-software-environment"><strong>Hardware and Software environment</strong></h3>
<ul>
<li>This example runs on STM32U083xx devices.</li>
<li>This example has been tested with STMicroelectronics NUCLEO-U083RC (MB1932) board and can be easily tailored to any other supported device and development board.</li>
<li>To get debug print in your UART console you have to configure it using these parameters: Speed: 115200, Data: 8bits, Parity: None, stop bits: 1, Flow control: none.</li>
</ul>
<h3 id="how-to-use-it"><strong>How to use it?</strong></h3>
<p>In order to build the OEMiROT_Boot project, you must do the following:</p>
<ul>
<li>Open your preferred toolchain</li>
<li>Rebuild the project</li>
</ul>
<p>Then refer to OEMiROT_Appli readme for example of application booted through OEMiROT boot path.</p>
</body>
</html>
