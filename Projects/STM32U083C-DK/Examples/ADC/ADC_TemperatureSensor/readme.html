<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="../../../../_htmresc/mini-st_2020.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="row">
<section id="adc_temperaturesensor-example-description" class="col-sm-12 col-lg-8">
<h2><b>ADC_TemperatureSensor Example Description</b></h2>
<p>How to use an ADC peripheral to perform a single ADC conversion on
the internal temperature sensor and calculate the temperature in degrees
Celsius. This example uses the polling programming model (for interrupt
or DMA programming models, refer to other examples). This example is
based on the STM32U0xx ADC HAL API.</p>
<p>Example configuration:</p>
<p>ADC is configured to convert a single channel, in single conversion
mode, from SW trigger.</p>
<p>Sequencer of ADC group regular (default group available on ADC of all
STM32 devices) is configured to convert channel: internal channel
temperature sensor.</p>
<p>Example execution:</p>
<p>Program configures ADC and GPIO.</p>
<p>Then, program performs in infinite loop:</p>
<ul>
<li>start ADC conversion</li>
<li>poll for conversion completion</li>
<li>read conversion data</li>
<li>compute temperature from raw data to physical values using LL ADC
driver helper macro (unit: degree Celsius)</li>
</ul>
<p>LED4 is used to monitor program execution status:</p>
<ul>
<li>Normal operation: Turn on LED during 1s after each temperature
computation, then turn off during 0.2s before restarting an infinite
loop cycle.</li>
<li>Error: LED remaining turned on</li>
</ul>
<p>Debug: variables to monitor with debugger:</p>
<ul>
<li>“uhADCxConvertedData”: ADC group regular conversion data</li>
<li>“hADCxConvertedData_Temperature_DegreeCelsius”: Value of temperature
(unit: degree Celsius)</li>
</ul>
<p>Connection needed:</p>
<p>None.</p>
<p>Other peripherals used:</p>
<p>1 GPIO for LED4</p>
<h3 id="keywords"><b>Keywords</b></h3>
<p>ADC, analog digital converter, analog, conversion, voltage, channel,
analog input, trigger, temperature sensor</p>
<h3 id="directory-contents"><b>Directory contents</b></h3>
<ul>
<li>ADC/ADC_TemperatureSensor/Inc/stm32u083c_discovery_conf.h BSP
configuration file</li>
<li>ADC/ADC_TemperatureSensor/Inc/stm32u0xx_hal_conf.h HAL configuration
file</li>
<li>ADC/ADC_TemperatureSensor/Inc/stm32u0xx_it.h Interrupt handlers
header file</li>
<li>ADC/ADC_TemperatureSensor/Inc/main.h Header for main.c module</li>
<li>ADC/ADC_TemperatureSensor/Src/stm32u0xx_it.c Interrupt handlers</li>
<li>ADC/ADC_TemperatureSensor/Src/stm32u0xx_hal_msp.c HAL MSP
module</li>
<li>ADC/ADC_TemperatureSensor/Src/main.c Main program</li>
<li>ADC/ADC_TemperatureSensor/Src/system_stm32u0xx.c STM32U0xx system
source file</li>
</ul>
<h3 id="hardware-and-software-environment"><b>Hardware and Software
environment</b></h3>
<ul>
<li><p>This example runs on STM32U083RCTx devices.</p></li>
<li><p>This example has been tested with STM32U083C-DK board and can be
easily tailored to any other supported device and development
board.</p></li>
</ul>
<h3 id="how-to-use-it"><b>How to use it ?</b></h3>
<p>In order to make the program work, you must do the following :</p>
<ul>
<li>Open your preferred toolchain</li>
<li>Rebuild all files and load your image into target memory</li>
<li>Run the example</li>
</ul>
</body>
</html>
